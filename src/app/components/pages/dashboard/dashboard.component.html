<div class="dashboard-container">
  <div class="dashboard-content">
    <h1>Tableau de bord</h1>

    <div class="user-info-section">
      <h2>Bienvenue sur votre espace personnel</h2>
      <p>Gérez vos recettes favorites, vos préférences et vos informations personnelles.</p>
    </div>

    <div class="dashboard-grid">
      <div class="dashboard-card">
        <h3>Mes recettes favorites</h3>
        <p>Accédez à vos recettes préférées et organisez-les.</p>
        <button class="dashboard-button">Voir mes favoris</button>
      </div>

      <div class="dashboard-card">
        <h3>Mes recettes créées</h3>
        <p>Consultez et modifiez les recettes que vous avez créées.</p>
        <button class="dashboard-button">Gérer mes recettes</button>
      </div>

      <div class="dashboard-card">
        <h3>Mon profil</h3>
        <p>Modifiez vos informations personnelles et vos préférences.</p>
        <button class="dashboard-button" routerLink="/settings">Modifier mon profil</button>
      </div>

      <div class="dashboard-card">
        <h3>Historique</h3>
        <p>Consultez votre historique de recettes consultées.</p>
        <button class="dashboard-button">Voir l'historique</button>
      </div>

      <!-- Admin Panel Card - Only visible to users with idprofile 1 or 2 -->
      <div *ngIf="isAdmin" class="dashboard-card admin-card">
        <h3>Panneau d'administration</h3>
        <p>Gérez les utilisateurs et les profils du site.</p>
        <button class="dashboard-button admin-button" routerLink="/admin">Accéder au panneau admin</button>
      </div>
    </div>

    <!-- Loading indicator -->
    <div *ngIf="loading" class="loading-indicator">
      <p>Chargement des informations utilisateur...</p>
    </div>

    <!-- Error message -->
    <div *ngIf="error" class="error-message">
      <p>{{ errorMessage }}</p>
      <button *ngIf="!errorMessage.includes('connecté') && !errorMessage.includes('expiré')"
              class="retry-button"
              (click)="retryLoading()">
        Réessayer
      </button>
    </div>
  </div>
</div>
